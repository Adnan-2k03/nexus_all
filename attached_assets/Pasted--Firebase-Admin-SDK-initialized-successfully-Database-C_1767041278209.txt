‚úÖ Firebase Admin SDK initialized successfully
üîÑ [Database] Connection attempt 1/15...
‚úÖ [Database] Connection established successfully
   Cookie secure: false
üîê [PRODUCTION MODE] Authentication is ENABLED
üîÑ [Session Store] Initializing PostgreSQL session store...
üç™ [Session Config]
   Environment: production
   Cross-Origin: YES
   Cookie sameSite: lax
[OAuth Debug] Callback URL: https://nexusfinalandroid-production.up.railway.app/api/auth/google/callback
[OAuth Debug] Client ID: 200246678955-teb86qn...
[OAuth Debug] Client Secret exists: true
[OAuth Debug] Client Secret length: 35
8:46:21 PM [express] serving on port 8080
  ~ user_game_profiles ‚Ä∫ match_history       rename table
‚úÖ [Session Store] Pool connected to database
8:47:06 PM [express] GET /api/feature-flags 200 in 195ms :: []
üîê [Auth API] Native login request
üîê [Auth API] Headers: {"host":"nexusfinalandroid-production.up.railway.app","user-agent":"Mozilla/5.0 (Linux; Android 16; sdk_gphone64_x86_64 Build/BE2A.250530.026.D1; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/143.0.7499.115 Mobile Safari/537.36","content-length":"1220","accept":"application/json","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-US,en;q=0.9","content-type":"application/json","origin":"https://localhost","priority":"u=1, i","referer":"https://localhost/","sec-ch-ua":"\"Android WebView\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"","sec-ch-ua-mobile":"?1","sec-ch-ua-platform":"\"Android\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","sec-fetch-storage-access":"active","x-forwarded-for":"49.37.153.222","x-forwarded-host":"nexusfinalandroid-production.up.railway.app","x-forwarded-proto":"https","x-railway-edge":"railway/asia-southeast1-eqsg3a","x-railway-request-id":"5cixS1_8Sxuxn1R_V7rehQ","x-real-ip":"49.37.153.222","x-request-start":"1767041242171","x-requested-with":"com.nexusmatch.app"}
üîê [Auth API] Body Content: {"token":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImEzOGVhNmEwNDA4YjBjYzVkYTE4OWRmYzg4ODgyZDBmMWI3ZmJmMGUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiTUQgQUROQU4gSEFTU0hBRCAyMkJDRTkzNTciLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jTDlBS0lwQXEzNWtKcFU0MUNDYzZmQjlITUFqOXJJRHZfaDZfcDd5eGFPcTkyVTBBPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3BsYXlsaW5rLTQyYmZmIiwiYXVkIjoicGxheWxpbmstNDJiZmYiLCJhdXRoX3RpbWUiOjE3NjcwNDEyNDAsInVzZXJfaWQiOiJQY24zRzZIaTNsaHlleDg3NnAzQUZJaXk5dDQyIiwic3ViIjoiUGNuM0c2SGkzbGh5ZXg4NzZwM0FGSWl5OXQ0MiIsImlhdCI6MTc2NzA0MTI0MCwiZXhwIjoxNzY3MDQ0ODQwLCJlbWFpbCI6ImFkbmFuLjIyYmNlOTM1N0B2aXRhcHN0dWRlbnQuYWMuaW4iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExMjIxMDQ0NzYyMTkxMDA1NTM3NyJdLCJlbWFpbCI6WyJhZG5hbi4yMmJjZTkzNTdAdml0YXBzdHVkZW50LmFjLmluIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.JyC4fIEbJX2nwQbjTpbh1tf5yNDwIGwFx8t9dtAtMqqMg9gj1Vn9yqR8r_xxP75okf4Sl9gMNnNsXL0FRPSA9p7vtEFCTxGq0GyE0Or8Dr1XIqfLYDxA2pve7HgwUrC9uwkbCqFHpJ7iDhIMbVHcwtYUIbKn8wNWEb4FgEuGsU0uyTwkBB0Fz71TTtCfghfGNnI09hJ1SYgZofO_JWJCsw1E0apJMmiwJU_ZKf8qsi4cukBDJAm_-QjklmpgdgUgpcWTWczmG33NYgv5cpoaJQed-ovGbXHPQHD4tpqdQQFN3XxU15fMIa4lCjVvOb9Vq8XYcU53pkbkS-2BSkancg"}
üîê [Auth API] Body type: object
üîê [Auth API] Token analysis: { hasToken: true, tokenType: 'string', tokenLength: 1208 }
üîê [Auth API] Attempting Firebase verification...
‚úÖ [Auth API] Token verified for UID: Pcn3G6Hi3lhyex876p3AFIiy9t42
üë§ [Auth API] Provisioning new user for UID: Pcn3G6Hi3lhyex876p3AFIiy9t42
üìù [Auth API] Creating user with gamertag: adnan_22bce9357_2e8b
üîë [Auth API] Establishing Passport session for user ID: 71bac2dd-b358-4654-b7fa-f27b536920e1
[Passport] Serializing user: 71bac2dd-b358-4654-b7fa-f27b536920e1
üèÅ [Auth API] Authentication complete for: adnan_22bce9357_2e8b
üé´ [JWT] Generated token for user 71bac2dd-b358-4654-b7fa-f27b536920e1: eyJhbGciOi...
üé´ [Auth API] Generated JWT for user: 71bac2dd-b358-4654-b7fa-f27b536920e1
8:47:22 PM [express] POST /api/auth/native-login 200 in 356ms :: {"id":"71bac2dd-b358-4654-b7fa-f27b‚Ä¶
üîç [JWT Middleware] GET /api/auth/user - Checking auth headers...
   Authorization header present: false
   X-Auth-Token header present: false
üîç [Auth API] GET /api/auth/user. Authenticated flag: false req.user present: false
‚ùå [Auth API] Unauthorized request to /api/auth/user
8:47:22 PM [express] GET /api/auth/user 401 in 3ms :: {"message":"Unauthorized"}