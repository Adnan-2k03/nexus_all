2025-12-29 16:00:49.730 12273-12273 Capacitor/PluginÂ  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â VÂ  To native (Capacitor plugin): callbackId: 116614593, pluginId: FirebaseAuthentication, methodName: signInWithGoogle
2025-12-29 16:00:49.730 12273-12273 CapacitorÂ  Â  Â  Â  Â  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â VÂ  callback: 116614593, pluginId: FirebaseAuthentication, methodName: signInWithGoogle, methodData: {}
2025-12-29 16:00:50.264 12273-12273 CapacitorÂ  Â  Â  Â  Â  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â DÂ  App paused
2025-12-29 16:00:52.319 12273-12741 FAÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  Application backgrounded at: timestamp_millis: 1767004250318
2025-12-29 16:00:52.917 12273-12760 CredManProvServiceÂ  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  GetCredentialResponse returned from framework
2025-12-29 16:00:52.918 12273-12307 SystemÂ  Â  Â  Â  Â  Â  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â WÂ  Ignoring header X-Firebase-Locale because its value was null.
2025-12-29 16:00:52.934 12273-12307 CapacitorCookiesÂ  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  Getting cookies at: 'https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyAssertion?key=AIzaSyA5vK9XMg_tBiGXyu4jEZFHZyFPfwj_17U'
2025-12-29 16:00:52.944 12273-12273 CapacitorÂ  Â  Â  Â  Â  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â DÂ  App resumed
2025-12-29 16:00:52.972 12273-12273 InsetsControllerÂ  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â DÂ  hide(ime(), fromIme=false)
2025-12-29 16:00:52.972 12273-12273 ImeTrackerÂ  Â  Â  Â  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  com.nexusmatch.app:ebe20ee: onCancelled at PHASE_CLIENT_ALREADY_HIDDEN
2025-12-29 16:00:53.413 12273-12307 SystemÂ  Â  Â  Â  Â  Â  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â WÂ  Ignoring header X-Firebase-Locale because its value was null.
2025-12-29 16:00:53.416 12273-12307 CapacitorCookiesÂ  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  Getting cookies at: 'https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=AIzaSyA5vK9XMg_tBiGXyu4jEZFHZyFPfwj_17U'
2025-12-29 16:00:53.820 12273-12307 FirebaseAuthÂ  Â  Â  Â  Â  Â  com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â DÂ  Notifying id token listeners about user ( STbtLCfbaZPSPWr7F2MJOFKOY4H3 ).
2025-12-29 16:00:53.821 12273-12273 Capacitor/...tionPlugin com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â VÂ  Notifying listeners for event idTokenChange
2025-12-29 16:00:53.826 12273-12273 Capacitor/ConsoleÂ  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  File: https://localhost/assets/index-DxgL4acG.js - Line 596 - Msg: ğŸ” [Auth] idTokenChange event triggered [object Object]
2025-12-29 16:00:53.826 12273-12273 Capacitor/ConsoleÂ  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  File: https://localhost/assets/index-DxgL4acG.js - Line 596 - Msg: ğŸ” [Auth] Syncing token with backend (length: 1208 )
2025-12-29 16:00:54.437 12273-12273 Capacitor/ConsoleÂ  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â IÂ  File: https://localhost/assets/index-DxgL4acG.js - Line 596 - Msg: ğŸ” [Auth] Fetch response status: 401
2025-12-29 16:00:54.437 12273-12273 Capacitor/ConsoleÂ  Â  Â  Â com.nexusmatch.appÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â EÂ  File: https://localhost/assets/index-DxgL4acG.js - Line 596 - Msg: âŒ [Auth] Server sync failed: 401 {"message":"Authentication failed"}



railway logs::

10:29:57 AM [express] GET /api/auth/user 401 in 6ms :: {"message":"Unauthorized"}
ğŸ” [Auth API] Headers: {"host":"nexusfinalandroid-production.up.railway.app","user-agent":"Mozilla/5.0 (Linux; Android 16; sdk_gphone64_x86_64 Build/BE2A.250530.026.D1; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/133.0.6943.137 Mobile Safari/537.36","content-length":"1220","accept":"application/json","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-US,en;q=0.9","content-type":"application/json","origin":"https://localhost","priority":"u=1, i","referer":"https://localhost/","sec-ch-ua":"\"Not(A:Brand\";v=\"99\", \"Android WebView\";v=\"133\", \"Chromium\";v=\"133\"","sec-ch-ua-mobile":"?1","sec-ch-ua-platform":"\"Android\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","sec-fetch-storage-access":"active","x-forwarded-for":"49.37.153.222","x-forwarded-host":"nexusfinalandroid-production.up.railway.app","x-forwarded-proto":"https","x-railway-edge":"railway/asia-southeast1-eqsg3a","x-railway-request-id":"0nUZ4VZXQvKSmr-qDcO5xA","x-real-ip":"49.37.153.222","x-request-start":"1767004256497","x-requested-with":"com.nexusmatch.app"}
ğŸ” [Auth API] Body Content: {"token":"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk4OGQ1YTM3OWI3OGJkZjFlNTBhNDA5MTEzZjJiMGM3NWU0NTJlNDciLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiTUQgQUROQU4gSEFTU0hBRCAyMkJDRTkzNTciLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jTDlBS0lwQXEzNWtKcFU0MUNDYzZmQjlITUFqOXJJRHZfaDZfcDd5eGFPcTkyVTBBPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3BsYXlsaW5rLTQyYmZmIiwiYXVkIjoicGxheWxpbmstNDJiZmYiLCJhdXRoX3RpbWUiOjE3NjcwMDQyNTUsInVzZXJfaWQiOiJTVGJ0TENmYmFaUFNQV3I3RjJNSk9GS09ZNEgzIiwic3ViIjoiU1RidExDZmJhWlBTUFdyN0YyTUpPRktPWTRIMyIsImlhdCI6MTc2NzAwNDI1NSwiZXhwIjoxNzY3MDA3ODU1LCJlbWFpbCI6ImFkbmFuLjIyYmNlOTM1N0B2aXRhcHN0dWRlbnQuYWMuaW4iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExMjIxMDQ0NzYyMTkxMDA1NTM3NyJdLCJlbWFpbCI6WyJhZG5hbi4yMmJjZTkzNTdAdml0YXBzdHVkZW50LmFjLmluIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.AAeM-DRUWytlDLSXM9HbJtU467GcMHmE_4bZ3n1vOQMcJDhmVMcSXvrCJ92AmP5QgGHzxAvN4iyLJYkig10XXsHQd_CLL8KdFRxKeWbWW8YFwXwGyQiHaUVphbLnzh8eY1Zj2RgoB_WyulXudckZyHe2evTTajztYOEK-UKBFIAy7LzWQRVoS8_J-GQ2m6oEw19xZxMKtXai-iJifAIwLOlKgWDFG9beA_xh2HvlIUANbM42xr2sXrdYXIKYAOn0UDIEBT4BSV1hlJG0-8nAl5LIIygQ8l6xzdJZKDgCynXXoXogTMsxs-IYb-o0PsxB3QtUEVFE6cJND23PDuit6w"}
ğŸ” [Auth API] Native login request
ğŸ” [Auth API] Body type: object
ğŸ” [Auth API] Token analysis: { hasToken: true, tokenType: 'string', tokenLength: 1208 }
ğŸ” [Auth API] Attempting Firebase verification...
âœ… [Auth API] Token verified for UID: STbtLCfbaZPSPWr7F2MJOFKOY4H3
ğŸ‘¤ [Auth API] Provisioning new user for UID: STbtLCfbaZPSPWr7F2MJOFKOY4H3
âŒ [Auth API] Critical failure: duplicate key value violates unique constraint "users_gamertag_unique"
âœ… [Session Store] Pool connected to database
10:30:56 AM [express] POST /api/auth/native-login 401 in 264ms :: {"message":"Authentication failed"}